{"ast":null,"code":"import _slicedToArray from \"/Users/alishergaffarov/Desktop/js/test/doodle/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectSpread from \"/Users/alishergaffarov/Desktop/js/test/doodle/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { useState, useEffect, useContext, useRef } from 'react';\nimport { getI18n, getDefaults, ReportNamespaces, I18nContext } from './context.js';\nimport { warnOnce, loadNamespaces, loadLanguages, hasLoadedNamespace } from './utils.js';\nvar usePrevious = function usePrevious(value, ignore) {\n  var ref = useRef();\n  useEffect(function () {\n    ref.current = ignore ? ref.current : value;\n  }, [value, ignore]);\n  return ref.current;\n};\nexport function useTranslation(ns) {\n  var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var i18nFromProps = props.i18n;\n  var _ref = useContext(I18nContext) || {},\n    i18nFromContext = _ref.i18n,\n    defaultNSFromContext = _ref.defaultNS;\n  var i18n = i18nFromProps || i18nFromContext || getI18n();\n  if (i18n && !i18n.reportNamespaces) i18n.reportNamespaces = new ReportNamespaces();\n  if (!i18n) {\n    warnOnce('You will need to pass in an i18next instance by using initReactI18next');\n    var notReadyT = function notReadyT(k, optsOrDefaultValue) {\n      if (typeof optsOrDefaultValue === 'string') return optsOrDefaultValue;\n      if (optsOrDefaultValue && typeof optsOrDefaultValue === 'object' && typeof optsOrDefaultValue.defaultValue === 'string') return optsOrDefaultValue.defaultValue;\n      return Array.isArray(k) ? k[k.length - 1] : k;\n    };\n    var retNotReady = [notReadyT, {}, false];\n    retNotReady.t = notReadyT;\n    retNotReady.i18n = {};\n    retNotReady.ready = false;\n    return retNotReady;\n  }\n  if (i18n.options.react && i18n.options.react.wait !== undefined) warnOnce('It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.');\n  var i18nOptions = _objectSpread(_objectSpread(_objectSpread({}, getDefaults()), i18n.options.react), props);\n  var useSuspense = i18nOptions.useSuspense,\n    keyPrefix = i18nOptions.keyPrefix;\n  var namespaces = ns || defaultNSFromContext || i18n.options && i18n.options.defaultNS;\n  namespaces = typeof namespaces === 'string' ? [namespaces] : namespaces || ['translation'];\n  if (i18n.reportNamespaces.addUsedNamespaces) i18n.reportNamespaces.addUsedNamespaces(namespaces);\n  var ready = (i18n.isInitialized || i18n.initializedStoreOnce) && namespaces.every(function (n) {\n    return hasLoadedNamespace(n, i18n, i18nOptions);\n  });\n  function getT() {\n    return i18n.getFixedT(props.lng || null, i18nOptions.nsMode === 'fallback' ? namespaces : namespaces[0], keyPrefix);\n  }\n  var _useState = useState(getT),\n    _useState2 = _slicedToArray(_useState, 2),\n    t = _useState2[0],\n    setT = _useState2[1];\n  var joinedNS = namespaces.join();\n  if (props.lng) joinedNS = \"\".concat(props.lng).concat(joinedNS);\n  var previousJoinedNS = usePrevious(joinedNS);\n  var isMounted = useRef(true);\n  useEffect(function () {\n    var bindI18n = i18nOptions.bindI18n,\n      bindI18nStore = i18nOptions.bindI18nStore;\n    isMounted.current = true;\n    if (!ready && !useSuspense) {\n      if (props.lng) {\n        loadLanguages(i18n, props.lng, namespaces, function () {\n          if (isMounted.current) setT(getT);\n        });\n      } else {\n        loadNamespaces(i18n, namespaces, function () {\n          if (isMounted.current) setT(getT);\n        });\n      }\n    }\n    if (ready && previousJoinedNS && previousJoinedNS !== joinedNS && isMounted.current) {\n      setT(getT);\n    }\n    function boundReset() {\n      if (isMounted.current) setT(getT);\n    }\n    if (bindI18n && i18n) i18n.on(bindI18n, boundReset);\n    if (bindI18nStore && i18n) i18n.store.on(bindI18nStore, boundReset);\n    return function () {\n      isMounted.current = false;\n      if (bindI18n && i18n) bindI18n.split(' ').forEach(function (e) {\n        return i18n.off(e, boundReset);\n      });\n      if (bindI18nStore && i18n) bindI18nStore.split(' ').forEach(function (e) {\n        return i18n.store.off(e, boundReset);\n      });\n    };\n  }, [i18n, joinedNS]);\n  var isInitial = useRef(true);\n  useEffect(function () {\n    if (isMounted.current && !isInitial.current) {\n      setT(getT);\n    }\n    isInitial.current = false;\n  }, [i18n, keyPrefix]);\n  var ret = [t, i18n, ready];\n  ret.t = t;\n  ret.i18n = i18n;\n  ret.ready = ready;\n  if (ready) return ret;\n  if (!ready && !useSuspense) return ret;\n  throw new Promise(function (resolve) {\n    if (props.lng) {\n      loadLanguages(i18n, props.lng, namespaces, function () {\n        return resolve();\n      });\n    } else {\n      loadNamespaces(i18n, namespaces, function () {\n        return resolve();\n      });\n    }\n  });\n}","map":{"version":3,"names":["useState","useEffect","useContext","useRef","getI18n","getDefaults","ReportNamespaces","I18nContext","warnOnce","loadNamespaces","loadLanguages","hasLoadedNamespace","usePrevious","value","ignore","ref","current","useTranslation","ns","props","arguments","length","undefined","i18nFromProps","i18n","_ref","i18nFromContext","defaultNSFromContext","defaultNS","reportNamespaces","notReadyT","k","optsOrDefaultValue","defaultValue","Array","isArray","retNotReady","t","ready","options","react","wait","i18nOptions","_objectSpread","useSuspense","keyPrefix","namespaces","addUsedNamespaces","isInitialized","initializedStoreOnce","every","n","getT","getFixedT","lng","nsMode","_useState","_useState2","_slicedToArray","setT","joinedNS","join","concat","previousJoinedNS","isMounted","bindI18n","bindI18nStore","boundReset","on","store","split","forEach","e","off","isInitial","ret","Promise","resolve"],"sources":["/Users/alishergaffarov/Desktop/js/test/doodle/node_modules/react-i18next/dist/es/useTranslation.js"],"sourcesContent":["import { useState, useEffect, useContext, useRef } from 'react';\nimport { getI18n, getDefaults, ReportNamespaces, I18nContext } from './context.js';\nimport { warnOnce, loadNamespaces, loadLanguages, hasLoadedNamespace } from './utils.js';\nconst usePrevious = (value, ignore) => {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = ignore ? ref.current : value;\n  }, [value, ignore]);\n  return ref.current;\n};\nexport function useTranslation(ns) {\n  let props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const {\n    i18n: i18nFromProps\n  } = props;\n  const {\n    i18n: i18nFromContext,\n    defaultNS: defaultNSFromContext\n  } = useContext(I18nContext) || {};\n  const i18n = i18nFromProps || i18nFromContext || getI18n();\n  if (i18n && !i18n.reportNamespaces) i18n.reportNamespaces = new ReportNamespaces();\n  if (!i18n) {\n    warnOnce('You will need to pass in an i18next instance by using initReactI18next');\n    const notReadyT = (k, optsOrDefaultValue) => {\n      if (typeof optsOrDefaultValue === 'string') return optsOrDefaultValue;\n      if (optsOrDefaultValue && typeof optsOrDefaultValue === 'object' && typeof optsOrDefaultValue.defaultValue === 'string') return optsOrDefaultValue.defaultValue;\n      return Array.isArray(k) ? k[k.length - 1] : k;\n    };\n    const retNotReady = [notReadyT, {}, false];\n    retNotReady.t = notReadyT;\n    retNotReady.i18n = {};\n    retNotReady.ready = false;\n    return retNotReady;\n  }\n  if (i18n.options.react && i18n.options.react.wait !== undefined) warnOnce('It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.');\n  const i18nOptions = {\n    ...getDefaults(),\n    ...i18n.options.react,\n    ...props\n  };\n  const {\n    useSuspense,\n    keyPrefix\n  } = i18nOptions;\n  let namespaces = ns || defaultNSFromContext || i18n.options && i18n.options.defaultNS;\n  namespaces = typeof namespaces === 'string' ? [namespaces] : namespaces || ['translation'];\n  if (i18n.reportNamespaces.addUsedNamespaces) i18n.reportNamespaces.addUsedNamespaces(namespaces);\n  const ready = (i18n.isInitialized || i18n.initializedStoreOnce) && namespaces.every(n => hasLoadedNamespace(n, i18n, i18nOptions));\n  function getT() {\n    return i18n.getFixedT(props.lng || null, i18nOptions.nsMode === 'fallback' ? namespaces : namespaces[0], keyPrefix);\n  }\n  const [t, setT] = useState(getT);\n  let joinedNS = namespaces.join();\n  if (props.lng) joinedNS = `${props.lng}${joinedNS}`;\n  const previousJoinedNS = usePrevious(joinedNS);\n  const isMounted = useRef(true);\n  useEffect(() => {\n    const {\n      bindI18n,\n      bindI18nStore\n    } = i18nOptions;\n    isMounted.current = true;\n    if (!ready && !useSuspense) {\n      if (props.lng) {\n        loadLanguages(i18n, props.lng, namespaces, () => {\n          if (isMounted.current) setT(getT);\n        });\n      } else {\n        loadNamespaces(i18n, namespaces, () => {\n          if (isMounted.current) setT(getT);\n        });\n      }\n    }\n    if (ready && previousJoinedNS && previousJoinedNS !== joinedNS && isMounted.current) {\n      setT(getT);\n    }\n    function boundReset() {\n      if (isMounted.current) setT(getT);\n    }\n    if (bindI18n && i18n) i18n.on(bindI18n, boundReset);\n    if (bindI18nStore && i18n) i18n.store.on(bindI18nStore, boundReset);\n    return () => {\n      isMounted.current = false;\n      if (bindI18n && i18n) bindI18n.split(' ').forEach(e => i18n.off(e, boundReset));\n      if (bindI18nStore && i18n) bindI18nStore.split(' ').forEach(e => i18n.store.off(e, boundReset));\n    };\n  }, [i18n, joinedNS]);\n  const isInitial = useRef(true);\n  useEffect(() => {\n    if (isMounted.current && !isInitial.current) {\n      setT(getT);\n    }\n    isInitial.current = false;\n  }, [i18n, keyPrefix]);\n  const ret = [t, i18n, ready];\n  ret.t = t;\n  ret.i18n = i18n;\n  ret.ready = ready;\n  if (ready) return ret;\n  if (!ready && !useSuspense) return ret;\n  throw new Promise(resolve => {\n    if (props.lng) {\n      loadLanguages(i18n, props.lng, namespaces, () => resolve());\n    } else {\n      loadNamespaces(i18n, namespaces, () => resolve());\n    }\n  });\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}